import{c as R,a as it,g as st}from"./PublishEditor-164de56a.js";function rt(r,t){for(var e=0;e<t.length;e++){const i=t[e];if(typeof i!="string"&&!Array.isArray(i)){for(const s in i)if(s!=="default"&&!(s in r)){const n=Object.getOwnPropertyDescriptor(i,s);n&&Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:()=>i[s]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}var nt=at;function at(r){var t,e;if(typeof r!="function")throw new Error("expected a function but got "+r);return function(){return t||(t=!0,e=r.apply(this,arguments)),e}}(function(r){function t(o,h){var c;return o instanceof Buffer?c=o:c=Buffer.from(o.buffer,o.byteOffset,o.byteLength),c.toString(h)}var e=function(o){return Buffer.from(o)};function i(o){for(var h=0,c=Math.min(256*256,o.length+1),f=new Uint16Array(c),b=[],d=0;;){var _=h<o.length;if(!_||d>=c-1){var I=f.subarray(0,d),N=I;if(b.push(String.fromCharCode.apply(null,N)),!_)return b.join("");o=o.subarray(h),h=0,d=0}var E=o[h++];if(!(E&128))f[d++]=E;else if((E&224)===192){var F=o[h++]&63;f[d++]=(E&31)<<6|F}else if((E&240)===224){var F=o[h++]&63,z=o[h++]&63;f[d++]=(E&31)<<12|F<<6|z}else if((E&248)===240){var F=o[h++]&63,z=o[h++]&63,et=o[h++]&63,P=(E&7)<<18|F<<12|z<<6|et;P>65535&&(P-=65536,f[d++]=P>>>10&1023|55296,P=56320|P&1023),f[d++]=P}}}function s(o){for(var h=0,c=o.length,f=0,b=Math.max(32,c+(c>>>1)+7),d=new Uint8Array(b>>>3<<3);h<c;){var _=o.charCodeAt(h++);if(_>=55296&&_<=56319){if(h<c){var I=o.charCodeAt(h);(I&64512)===56320&&(++h,_=((_&1023)<<10)+(I&1023)+65536)}if(_>=55296&&_<=56319)continue}if(f+4>d.length){b+=8,b*=1+h/o.length*2,b=b>>>3<<3;var N=new Uint8Array(b);N.set(d),d=N}if(_&4294967168)if(!(_&4294965248))d[f++]=_>>>6&31|192;else if(!(_&4294901760))d[f++]=_>>>12&15|224,d[f++]=_>>>6&63|128;else if(!(_&4292870144))d[f++]=_>>>18&7|240,d[f++]=_>>>12&63|128,d[f++]=_>>>6&63|128;else continue;else{d[f++]=_;continue}d[f++]=_&63|128}return d.slice?d.slice(0,f):d.subarray(0,f)}var n="Failed to ",a=function(o,h,c){if(o)throw new Error("".concat(n).concat(h,": the '").concat(c,"' option is unsupported."))},l=typeof Buffer=="function"&&Buffer.from,m=l?e:s;function u(){this.encoding="utf-8"}u.prototype.encode=function(o,h){return a(h&&h.stream,"encode","stream"),m(o)};function T(o){var h;try{var c=new Blob([o],{type:"text/plain;charset=UTF-8"});h=URL.createObjectURL(c);var f=new XMLHttpRequest;return f.open("GET",h,!1),f.send(),f.responseText}finally{h&&URL.revokeObjectURL(h)}}var g=!l&&typeof Blob=="function"&&typeof URL=="function"&&typeof URL.createObjectURL=="function",v=["utf-8","utf8","unicode-1-1-utf-8"],j=i;l?j=t:g&&(j=function(o){try{return T(o)}catch{return i(o)}});var L="construct 'TextDecoder'",tt="".concat(n," ").concat(L,": the ");function C(o,h){a(h&&h.fatal,L,"fatal"),o=o||"utf-8";var c;if(l?c=Buffer.isEncoding(o):c=v.indexOf(o.toLowerCase())!==-1,!c)throw new RangeError("".concat(tt," encoding label provided ('").concat(o,"') is invalid."));this.encoding=o,this.fatal=!1,this.ignoreBOM=!1}C.prototype.decode=function(o,h){a(h&&h.stream,"decode","stream");var c;return o instanceof Uint8Array?c=o:o.buffer instanceof ArrayBuffer?c=new Uint8Array(o.buffer):c=new Uint8Array(o),j(c,this.encoding)},r.TextEncoder=r.TextEncoder||u,r.TextDecoder=r.TextDecoder||C})(typeof window<"u"?window:typeof R<"u"?R:R);var ot={encode:r=>new TextEncoder().encode(r),decode:r=>new TextDecoder().decode(r)},ht=lt;function lt(r,t,e){var i;return function(){if(!t)return r.apply(this,arguments);var s=this,n=arguments,a=e&&!i;if(clearTimeout(i),i=setTimeout(function(){if(i=null,!a)return r.apply(s,n)},t),a)return r.apply(this,arguments)}}function G(r){if(r.length===0)return".";let t=K(r);return t=t.reduce(ft,[]),U(...t)}function ct(...r){let t="";for(let e of r)e.startsWith("/")?t=e:t=G(U(t,e));return t}function U(...r){if(r.length===0)return"";let t=r.join("/");return t=t.replace(/\/{2,}/g,"/"),t}function K(r){if(r.length===0)return[];if(r==="/")return["/"];let t=r.split("/");return t[t.length-1]===""&&t.pop(),r[0]==="/"?t[0]="/":t[0]!=="."&&t.unshift("."),t}function ut(r){const t=r.lastIndexOf("/");if(t===-1)throw new Error(`Cannot get dirname of "${r}"`);return t===0?"/":r.slice(0,t)}function dt(r){if(r==="/")throw new Error(`Cannot get basename of "${r}"`);const t=r.lastIndexOf("/");return t===-1?r:r.slice(t+1)}function ft(r,t){if(r.length===0)return r.push(t),r;if(t===".")return r;if(t===".."){if(r.length===1){if(r[0]==="/")throw new Error("Unable to normalize path - traverses above root directory");if(r[0]===".")return r.push(t),r}return r[r.length-1]===".."?(r.push(".."),r):(r.pop(),r)}return r.push(t),r}var A={join:U,normalize:G,split:K,basename:dt,dirname:ut,resolve:ct};function D(r){return class extends Error{constructor(...t){super(...t),this.code=r,this.message?this.message=r+": "+this.message:this.message=r}}}const _t=D("EEXIST"),mt=D("ENOENT"),wt=D("ENOTDIR"),pt=D("ENOTEMPTY"),kt=D("ETIMEDOUT");var J={EEXIST:_t,ENOENT:mt,ENOTDIR:wt,ENOTEMPTY:pt,ETIMEDOUT:kt};const p=A,{EEXIST:q,ENOENT:yt,ENOTDIR:H,ENOTEMPTY:vt}=J,w=0;var bt=class{constructor(){}_makeRoot(t=new Map){return t.set(w,{mode:511,type:"dir",size:0,ino:0,mtimeMs:Date.now()}),t}activate(t=null){t===null?this._root=new Map([["/",this._makeRoot()]]):typeof t=="string"?this._root=new Map([["/",this._makeRoot(this.parse(t))]]):this._root=t}get activated(){return!!this._root}deactivate(){this._root=void 0}size(){return this._countInodes(this._root.get("/"))-1}_countInodes(t){let e=1;for(let[i,s]of t)i!==w&&(e+=this._countInodes(s));return e}autoinc(){return this._maxInode(this._root.get("/"))+1}_maxInode(t){let e=t.get(w).ino;for(let[i,s]of t)i!==w&&(e=Math.max(e,this._maxInode(s)));return e}print(t=this._root.get("/")){let e="";const i=(s,n)=>{for(let[a,l]of s){if(a===0)continue;let m=l.get(w),u=m.mode.toString(8);e+=`${"	".repeat(n)}${a}	${u}`,m.type==="file"?e+=`	${m.size}	${m.mtimeMs}
`:(e+=`
`,i(l,n+1))}};return i(t,0),e}parse(t){let e=0;function i(l){const m=++e,u=l.length===1?"dir":"file";let[T,g,v]=l;return T=parseInt(T,8),g=g?parseInt(g):0,v=v?parseInt(v):Date.now(),new Map([[w,{mode:T,type:u,size:g,mtimeMs:v,ino:m}]])}let s=t.trim().split(`
`),n=this._makeRoot(),a=[{indent:-1,node:n},{indent:0,node:null}];for(let l of s){let u=l.match(/^\t*/)[0].length;l=l.slice(u);let[T,...g]=l.split("	"),v=i(g);if(u<=a[a.length-1].indent)for(;u<=a[a.length-1].indent;)a.pop();a.push({indent:u,node:v}),a[a.length-2].node.set(T,v)}return n}_lookup(t,e=!0){let i=this._root,s="/",n=p.split(t);for(let a=0;a<n.length;++a){let l=n[a];if(i=i.get(l),!i)throw new yt(t);if(e||a<n.length-1){const m=i.get(w);if(m.type==="symlink"){let u=p.resolve(s,m.target);i=this._lookup(u)}s?s=p.join(s,l):s=l}}return i}mkdir(t,{mode:e}){if(t==="/")throw new q;let i=this._lookup(p.dirname(t)),s=p.basename(t);if(i.has(s))throw new q;let n=new Map,a={mode:e,type:"dir",size:0,mtimeMs:Date.now(),ino:this.autoinc()};n.set(w,a),i.set(s,n)}rmdir(t){let e=this._lookup(t);if(e.get(w).type!=="dir")throw new H;if(e.size>1)throw new vt;let i=this._lookup(p.dirname(t)),s=p.basename(t);i.delete(s)}readdir(t){let e=this._lookup(t);if(e.get(w).type!=="dir")throw new H;return[...e.keys()].filter(i=>typeof i=="string")}writeStat(t,e,{mode:i}){let s;try{let u=this.stat(t);i==null&&(i=u.mode),s=u.ino}catch{}i==null&&(i=438),s==null&&(s=this.autoinc());let n=this._lookup(p.dirname(t)),a=p.basename(t),l={mode:i,type:"file",size:e,mtimeMs:Date.now(),ino:s},m=new Map;return m.set(w,l),n.set(a,m),l}unlink(t){let e=this._lookup(p.dirname(t)),i=p.basename(t);e.delete(i)}rename(t,e){let i=p.basename(e),s=this._lookup(t);this._lookup(p.dirname(e)).set(i,s),this.unlink(t)}stat(t){return this._lookup(t).get(w)}lstat(t){return this._lookup(t,!1).get(w)}readlink(t){return this._lookup(t,!1).get(w).target}symlink(t,e){let i,s;try{let u=this.stat(e);s===null&&(s=u.mode),i=u.ino}catch{}s==null&&(s=40960),i==null&&(i=this.autoinc());let n=this._lookup(p.dirname(e)),a=p.basename(e),l={mode:s,type:"symlink",target:t,size:0,mtimeMs:Date.now(),ino:i},m=new Map;return m.set(w,l),n.set(a,m),l}_du(t){let e=0;for(const[i,s]of t.entries())i===w?e+=s.size:e+=this._du(s);return e}du(t){let e=this._lookup(t);return this._du(e)}};class Q{constructor(t="keyval-store",e="keyval"){this.storeName=e,this._dbName=t,this._storeName=e,this._init()}_init(){this._dbp||(this._dbp=new Promise((t,e)=>{const i=indexedDB.open(this._dbName);i.onerror=()=>e(i.error),i.onsuccess=()=>t(i.result),i.onupgradeneeded=()=>{i.result.createObjectStore(this._storeName)}}))}_withIDBStore(t,e){return this._init(),this._dbp.then(i=>new Promise((s,n)=>{const a=i.transaction(this.storeName,t);a.oncomplete=()=>s(),a.onabort=a.onerror=()=>n(a.error),e(a.objectStore(this.storeName))}))}_close(){return this._init(),this._dbp.then(t=>{t.close(),this._dbp=void 0})}}let $;function x(){return $||($=new Q),$}function gt(r,t=x()){let e;return t._withIDBStore("readwrite",i=>{e=i.get(r)}).then(()=>e.result)}function Et(r,t,e=x()){return e._withIDBStore("readwrite",i=>{i.put(t,r)})}function St(r,t,e=x()){return e._withIDBStore("readwrite",i=>{const s=i.get(r);s.onsuccess=()=>{i.put(t(s.result),r)}})}function Tt(r,t=x()){return t._withIDBStore("readwrite",e=>{e.delete(r)})}function xt(r=x()){return r._withIDBStore("readwrite",t=>{t.clear()})}function Pt(r=x()){const t=[];return r._withIDBStore("readwrite",e=>{(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t)}function Ft(r=x()){return r._close()}const Mt=Object.freeze(Object.defineProperty({__proto__:null,Store:Q,clear:xt,close:Ft,del:Tt,get:gt,keys:Pt,set:Et,update:St},Symbol.toStringTag,{value:"Module"})),V=it(Mt),S=V;var Ot=class{constructor(t,e){this._database=t,this._storename=e,this._store=new S.Store(this._database,this._storename)}saveSuperblock(t){return S.set("!root",t,this._store)}loadSuperblock(){return S.get("!root",this._store)}readFile(t){return S.get(t,this._store)}writeFile(t,e){return S.set(t,e,this._store)}unlink(t){return S.del(t,this._store)}wipe(){return S.clear(this._store)}close(){return S.close(this._store)}},Dt=class{constructor(t){this._url=t}loadSuperblock(){return fetch(this._url+"/.superblock.txt").then(t=>t.ok?t.text():null)}async readFile(t){const e=await fetch(this._url+t);if(e.status===200)return e.arrayBuffer();throw new Error("ENOENT")}async sizeFile(t){const e=await fetch(this._url+t,{method:"HEAD"});if(e.status===200)return e.headers.get("content-length");throw new Error("ENOENT")}};const M=V,jt=r=>new Promise(t=>setTimeout(t,r));var It=class{constructor(t,e){this._id=Math.random(),this._database=t,this._storename=e,this._store=new M.Store(this._database,this._storename),this._lock=null}async has({margin:t=2e3}={}){if(this._lock&&this._lock.holder===this._id){const e=Date.now();return this._lock.expires>e+t?!0:await this.renew()}else return!1}async renew({ttl:t=5e3}={}){let e;return await M.update("lock",i=>{const n=Date.now()+t;return e=i&&i.holder===this._id,this._lock=e?{holder:this._id,expires:n}:i,this._lock},this._store),e}async acquire({ttl:t=5e3}={}){let e,i,s;if(await M.update("lock",n=>{const a=Date.now(),l=a+t;return i=n&&n.expires<a,e=n===void 0||i,s=n&&n.holder===this._id,this._lock=e?{holder:this._id,expires:l}:n,this._lock},this._store),s)throw new Error("Mutex double-locked");return e}async wait({interval:t=100,limit:e=6e3,ttl:i}={}){for(;e--;){if(await this.acquire({ttl:i}))return!0;await jt(t)}throw new Error("Mutex timeout")}async release({force:t=!1}={}){let e,i,s;if(await M.update("lock",n=>(e=t||n&&n.holder===this._id,i=n===void 0,s=n&&n.holder!==this._id,this._lock=e?void 0:n,this._lock),this._store),await M.close(this._store),!e&&!t){if(i)throw new Error("Mutex double-freed");if(s)throw new Error("Mutex lost ownership")}return e}},Nt=class{constructor(t){this._id=Math.random(),this._database=t,this._has=!1,this._release=null}async has(){return this._has}async acquire(){return new Promise(t=>{navigator.locks.request(this._database+"_lock",{ifAvailable:!0},e=>(this._has=!!e,t(!!e),new Promise(i=>{this._release=i})))})}async wait({timeout:t=6e5}={}){return new Promise((e,i)=>{const s=new AbortController;setTimeout(()=>{s.abort(),i(new Error("Mutex timeout"))},t),navigator.locks.request(this._database+"_lock",{signal:s.signal},n=>(this._has=!!n,e(!!n),new Promise(a=>{this._release=a})))})}async release({force:t=!1}={}){this._has=!1,this._release?this._release():t&&navigator.locks.request(this._database+"_lock",{steal:!0},e=>!0)}};const{encode:Bt,decode:Y}=ot,zt=ht,Rt=bt,{ENOENT:$t,ENOTEMPTY:Ut,ETIMEDOUT:At}=J,Lt=Ot,Ct=Dt,qt=It,Ht=Nt,O=A;var Yt=class{constructor(){this.saveSuperblock=zt(()=>{this.flush()},500)}async init(t,{wipe:e,url:i,urlauto:s,fileDbName:n=t,db:a=null,fileStoreName:l=t+"_files",lockDbName:m=t+"_lock",lockStoreName:u=t+"_lock"}={}){this._name=t,this._idb=a||new Lt(n,l),this._mutex=navigator.locks?new Ht(t):new qt(m,u),this._cache=new Rt(t),this._opts={wipe:e,url:i},this._needsWipe=!!e,i&&(this._http=new Ct(i),this._urlauto=!!s)}async activate(){if(this._cache.activated)return;this._needsWipe&&(this._needsWipe=!1,await this._idb.wipe(),await this._mutex.release({force:!0})),await this._mutex.has()||await this._mutex.wait();const t=await this._idb.loadSuperblock();if(t)this._cache.activate(t);else if(this._http){const e=await this._http.loadSuperblock();this._cache.activate(e),await this._saveSuperblock()}else this._cache.activate();if(!await this._mutex.has())throw new At}async deactivate(){await this._mutex.has()&&await this._saveSuperblock(),this._cache.deactivate();try{await this._mutex.release()}catch(t){console.log(t)}await this._idb.close()}async _saveSuperblock(){this._cache.activated&&(this._lastSavedAt=Date.now(),await this._idb.saveSuperblock(this._cache._root))}_writeStat(t,e,i){let s=O.split(O.dirname(t)),n=s.shift();for(let a of s){n=O.join(n,a);try{this._cache.mkdir(n,{mode:511})}catch{}}return this._cache.writeStat(t,e,i)}async readFile(t,e){const{encoding:i}=e;if(i&&i!=="utf8")throw new Error('Only "utf8" encoding is supported in readFile');let s=null,n=null;try{n=this._cache.stat(t),s=await this._idb.readFile(n.ino)}catch(a){if(!this._urlauto)throw a}if(!s&&this._http){let a=this._cache.lstat(t);for(;a.type==="symlink";)t=O.resolve(O.dirname(t),a.target),a=this._cache.lstat(t);s=await this._http.readFile(t)}if(s&&((!n||n.size!=s.byteLength)&&(n=await this._writeStat(t,s.byteLength,{mode:n?n.mode:438}),this.saveSuperblock()),i==="utf8"?s=Y(s):s.toString=()=>Y(s)),!n)throw new $t(t);return s}async writeFile(t,e,i){const{mode:s,encoding:n="utf8"}=i;if(typeof e=="string"){if(n!=="utf8")throw new Error('Only "utf8" encoding is supported in writeFile');e=Bt(e)}const a=await this._cache.writeStat(t,e.byteLength,{mode:s});await this._idb.writeFile(a.ino,e)}async unlink(t,e){const i=this._cache.lstat(t);this._cache.unlink(t),i.type!=="symlink"&&await this._idb.unlink(i.ino)}readdir(t,e){return this._cache.readdir(t)}mkdir(t,e){const{mode:i=511}=e;this._cache.mkdir(t,{mode:i})}rmdir(t,e){if(t==="/")throw new Ut;this._cache.rmdir(t)}rename(t,e){this._cache.rename(t,e)}stat(t,e){return this._cache.stat(t)}lstat(t,e){return this._cache.lstat(t)}readlink(t,e){return this._cache.readlink(t)}symlink(t,e){this._cache.symlink(t,e)}async backFile(t,e){let i=await this._http.sizeFile(t);await this._writeStat(t,i,e)}du(t){return this._cache.du(t)}flush(){return this._saveSuperblock()}},Xt=class{constructor(t){this.type=t.type,this.mode=t.mode,this.size=t.size,this.ino=t.ino,this.mtimeMs=t.mtimeMs,this.ctimeMs=t.ctimeMs||t.mtimeMs,this.uid=1,this.gid=1,this.dev=1}isFile(){return this.type==="file"}isDirectory(){return this.type==="dir"}isSymbolicLink(){return this.type==="symlink"}};const Wt=Yt,X=Xt,B=A;function y(r,t,...e){return r=B.normalize(r),(typeof t>"u"||typeof t=="function")&&(t={}),typeof t=="string"&&(t={encoding:t}),[r,t,...e]}function Gt(r,t,e,...i){return r=B.normalize(r),(typeof e>"u"||typeof e=="function")&&(e={}),typeof e=="string"&&(e={encoding:e}),[r,t,e,...i]}function W(r,t,...e){return[B.normalize(r),B.normalize(t),...e]}var Kt=class{constructor(t,e={}){this.init=this.init.bind(this),this.readFile=this._wrap(this.readFile,y,!1),this.writeFile=this._wrap(this.writeFile,Gt,!0),this.unlink=this._wrap(this.unlink,y,!0),this.readdir=this._wrap(this.readdir,y,!1),this.mkdir=this._wrap(this.mkdir,y,!0),this.rmdir=this._wrap(this.rmdir,y,!0),this.rename=this._wrap(this.rename,W,!0),this.stat=this._wrap(this.stat,y,!1),this.lstat=this._wrap(this.lstat,y,!1),this.readlink=this._wrap(this.readlink,y,!1),this.symlink=this._wrap(this.symlink,W,!0),this.backFile=this._wrap(this.backFile,y,!0),this.du=this._wrap(this.du,y,!1),this._deactivationPromise=null,this._deactivationTimeout=null,this._activationPromise=null,this._operations=new Set,t&&this.init(t,e)}async init(...t){return this._initPromiseResolve&&await this._initPromise,this._initPromise=this._init(...t),this._initPromise}async _init(t,e={}){await this._gracefulShutdown(),this._activationPromise&&await this._deactivate(),this._backend&&this._backend.destroy&&await this._backend.destroy(),this._backend=e.backend||new Wt,this._backend.init&&await this._backend.init(t,e),this._initPromiseResolve&&(this._initPromiseResolve(),this._initPromiseResolve=null),e.defer||this.stat("/")}async _gracefulShutdown(){this._operations.size>0&&(this._isShuttingDown=!0,await new Promise(t=>this._gracefulShutdownResolve=t),this._isShuttingDown=!1,this._gracefulShutdownResolve=null)}_wrap(t,e,i){return async(...s)=>{s=e(...s);let n={name:t.name,args:s};this._operations.add(n);try{return await this._activate(),await t.apply(this,s)}finally{this._operations.delete(n),i&&this._backend.saveSuperblock(),this._operations.size===0&&(this._deactivationTimeout||clearTimeout(this._deactivationTimeout),this._deactivationTimeout=setTimeout(this._deactivate.bind(this),500))}}}async _activate(){this._initPromise||console.warn(new Error(`Attempted to use LightningFS ${this._name} before it was initialized.`)),await this._initPromise,this._deactivationTimeout&&(clearTimeout(this._deactivationTimeout),this._deactivationTimeout=null),this._deactivationPromise&&await this._deactivationPromise,this._deactivationPromise=null,this._activationPromise||(this._activationPromise=this._backend.activate?this._backend.activate():Promise.resolve()),await this._activationPromise}async _deactivate(){return this._activationPromise&&await this._activationPromise,this._deactivationPromise||(this._deactivationPromise=this._backend.deactivate?this._backend.deactivate():Promise.resolve()),this._activationPromise=null,this._gracefulShutdownResolve&&this._gracefulShutdownResolve(),this._deactivationPromise}async readFile(t,e){return this._backend.readFile(t,e)}async writeFile(t,e,i){return await this._backend.writeFile(t,e,i),null}async unlink(t,e){return await this._backend.unlink(t,e),null}async readdir(t,e){return this._backend.readdir(t,e)}async mkdir(t,e){return await this._backend.mkdir(t,e),null}async rmdir(t,e){return await this._backend.rmdir(t,e),null}async rename(t,e){return await this._backend.rename(t,e),null}async stat(t,e){const i=await this._backend.stat(t,e);return new X(i)}async lstat(t,e){const i=await this._backend.lstat(t,e);return new X(i)}async readlink(t,e){return this._backend.readlink(t,e)}async symlink(t,e){return await this._backend.symlink(t,e),null}async backFile(t,e){return await this._backend.backFile(t,e),null}async du(t){return this._backend.du(t)}async flush(){return this._backend.flush()}};const Jt=nt,Qt=Kt;function k(r,t){return typeof r=="function"&&(t=r),t=Jt(t),[(...i)=>t(null,...i),t]}var Z=class{constructor(...t){this.promises=new Qt(...t),this.init=this.init.bind(this),this.readFile=this.readFile.bind(this),this.writeFile=this.writeFile.bind(this),this.unlink=this.unlink.bind(this),this.readdir=this.readdir.bind(this),this.mkdir=this.mkdir.bind(this),this.rmdir=this.rmdir.bind(this),this.rename=this.rename.bind(this),this.stat=this.stat.bind(this),this.lstat=this.lstat.bind(this),this.readlink=this.readlink.bind(this),this.symlink=this.symlink.bind(this),this.backFile=this.backFile.bind(this),this.du=this.du.bind(this),this.flush=this.flush.bind(this)}init(t,e){return this.promises.init(t,e)}readFile(t,e,i){const[s,n]=k(e,i);this.promises.readFile(t,e).then(s).catch(n)}writeFile(t,e,i,s){const[n,a]=k(i,s);this.promises.writeFile(t,e,i).then(n).catch(a)}unlink(t,e,i){const[s,n]=k(e,i);this.promises.unlink(t,e).then(s).catch(n)}readdir(t,e,i){const[s,n]=k(e,i);this.promises.readdir(t,e).then(s).catch(n)}mkdir(t,e,i){const[s,n]=k(e,i);this.promises.mkdir(t,e).then(s).catch(n)}rmdir(t,e,i){const[s,n]=k(e,i);this.promises.rmdir(t,e).then(s).catch(n)}rename(t,e,i){const[s,n]=k(i);this.promises.rename(t,e).then(s).catch(n)}stat(t,e,i){const[s,n]=k(e,i);this.promises.stat(t).then(s).catch(n)}lstat(t,e,i){const[s,n]=k(e,i);this.promises.lstat(t).then(s).catch(n)}readlink(t,e,i){const[s,n]=k(e,i);this.promises.readlink(t).then(s).catch(n)}symlink(t,e,i){const[s,n]=k(i);this.promises.symlink(t,e).then(s).catch(n)}backFile(t,e,i){const[s,n]=k(e,i);this.promises.backFile(t,e).then(s).catch(n)}du(t,e){const[i,s]=k(e);this.promises.du(t).then(i).catch(s)}flush(t){const[e,i]=k(t);this.promises.flush().then(e).catch(i)}};const Vt=st(Z),le=rt({__proto__:null,default:Vt},[Z]);export{le as i};
